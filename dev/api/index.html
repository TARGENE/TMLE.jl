<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · TMLE.jl</title><meta name="title" content="API Reference · TMLE.jl"/><meta property="og:title" content="API Reference · TMLE.jl"/><meta property="twitter:title" content="API Reference · TMLE.jl"/><meta name="description" content="Documentation for TMLE.jl."/><meta property="og:description" content="Documentation for TMLE.jl."/><meta property="twitter:description" content="Documentation for TMLE.jl."/><meta property="og:url" content="https://TARGENE.github.io/TMLE.jl/api/"/><meta property="twitter:url" content="https://TARGENE.github.io/TMLE.jl/api/"/><link rel="canonical" href="https://TARGENE.github.io/TMLE.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/logo.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="TMLE.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">TMLE.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../walk_through/">Walk Through</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../user_guide/scm/">Structural Causal Models</a></li><li><a class="tocitem" href="../user_guide/estimands/">Estimands</a></li><li><a class="tocitem" href="../user_guide/estimation/">Estimation</a></li><li><a class="tocitem" href="../user_guide/misc/">Miscellaneous</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/super_learning/">Becoming a Super Learner</a></li><li><a class="tocitem" href="../examples/double_robustness/">Model Misspecification &amp; Double Robustness</a></li></ul></li><li><a class="tocitem" href="../resources/">Resources</a></li><li class="is-active"><a class="tocitem" href>API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TARGENE/TMLE.jl/blob/main/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HypothesisTests.OneSampleTTest" href="#HypothesisTests.OneSampleTTest"><code>HypothesisTests.OneSampleTTest</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OneSampleTTest(r::EICEstimate, Ψ₀=0)</code></pre><p>Performs a T test on the EICEstimate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimates.jl#L99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HypothesisTests.OneSampleTTest" href="#HypothesisTests.OneSampleTTest"><code>HypothesisTests.OneSampleTTest</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OneSampleTTest(r::ComposedEstimate, Ψ₀=0)</code></pre><p>Performs a T test on the ComposedEstimate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimates.jl#L141-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HypothesisTests.OneSampleZTest" href="#HypothesisTests.OneSampleZTest"><code>HypothesisTests.OneSampleZTest</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OneSampleZTest(r::EICEstimate, Ψ₀=0)</code></pre><p>Performs a Z test on the EICEstimate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimates.jl#L91-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HypothesisTests.OneSampleZTest" href="#HypothesisTests.OneSampleZTest"><code>HypothesisTests.OneSampleZTest</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OneSampleZTest(r::ComposedEstimate, Ψ₀=0)</code></pre><p>Performs a T test on the ComposedEstimate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimates.jl#L164-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.Configuration-Tuple{}" href="#TMLE.Configuration-Tuple{}"><code>TMLE.Configuration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Configuration(;estimands, scm=nothing, adjustment=nothing) = Configuration(estimands, scm, adjustment)</code></pre><p>A Configuration is a set of estimands to be estimated. If the set of estimands contains causal (identifiable) estimands,  these will be identified using the provided <code>scm</code> and <code>adjustment</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/configuration.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.OSE-Tuple{}" href="#TMLE.OSE-Tuple{}"><code>TMLE.OSE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">OSE(;models=default_models(), resampling=nothing, ps_lowerbound=1e-8, machine_cache=false)</code></pre><p>Defines a One Step Estimator using the specified models for estimation of the nuisance parameters. The estimator is a  function that can be applied to estimate estimands for a dataset.</p><p><strong>Arguments</strong></p><ul><li>models: A NamedTuple{variables}(models) where the <code>variables</code> are the outcome variables modeled by the <code>models</code>.</li><li>resampling: Outer resampling strategy. Setting it to <code>nothing</code> (default) falls back to vanilla estimation while </li></ul><p>any valid <code>MLJ.ResamplingStrategy</code> will result in CV-OSE.</p><ul><li>ps_lowerbound: Lowerbound for the propensity score to avoid division by 0. The special value <code>nothing</code> will </li></ul><p>result in a data adaptive definition as described in <a href="https://pubmed.ncbi.nlm.nih.gov/35512316/">here</a>.</p><ul><li>machine_cache: Whether MLJ.machine created during estimation should cache data.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using MLJLinearModels
models = (Y = LinearRegressor(), T = LogisticClassifier())
ose = OSE()
Ψ̂ₙ, cache = ose(Ψ, dataset)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimators.jl#L243-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.SCM" href="#TMLE.SCM"><code>TMLE.SCM</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A SCM is simply a wrapper around a MetaGraph over a Directed Acyclic Graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/scm.jl#L5-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.TMLEE-Tuple{}" href="#TMLE.TMLEE-Tuple{}"><code>TMLE.TMLEE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TMLEE(;models=default_models(), resampling=nothing, ps_lowerbound=1e-8, weighted=false, tol=nothing, machine_cache=false)</code></pre><p>Defines a TMLE estimator using the specified models for estimation of the nuisance parameters. The estimator is a  function that can be applied to estimate estimands for a dataset.</p><p><strong>Arguments</strong></p><ul><li>models: A NamedTuple{variables}(models) where the <code>variables</code> are the outcome variables modeled by the <code>models</code>.</li><li>resampling: Outer resampling strategy. Setting it to <code>nothing</code> (default) falls back to vanilla TMLE while </li></ul><p>any valid <code>MLJ.ResamplingStrategy</code> will result in CV-TMLE.</p><ul><li>ps_lowerbound: Lowerbound for the propensity score to avoid division by 0. The special value <code>nothing</code> will </li></ul><p>result in a data adaptive definition as described in <a href="https://pubmed.ncbi.nlm.nih.gov/35512316/">here</a>.</p><ul><li>weighted: Whether the fluctuation model is a classig GLM or a weighted version. The weighted fluctuation has </li></ul><p>been show to be more robust to positivity violation in practice.</p><ul><li>tol: This is not used at the moment.</li><li>machine_cache: Whether MLJ.machine created during estimation should cache data.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using MLJLinearModels
tmle = TMLEE()
Ψ̂ₙ, cache = tmle(Ψ, dataset)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimators.jl#L163-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.TreatmentTransformer-Tuple{}" href="#TMLE.TreatmentTransformer-Tuple{}"><code>TMLE.TreatmentTransformer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TreatmentTransformer(;encoder=encoder())</code></pre><p>Treatments in TMLE are represented by <code>CategoricalArrays</code>. If a treatment column has type <code>OrderedFactor</code>, then its integer representation is used, make sure that  the levels correspond to your expectations. All other columns are one-hot encoded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/treatment_transformer.jl#L9-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributions.estimate-Tuple{TMLE.ComposedEstimate}" href="#Distributions.estimate-Tuple{TMLE.ComposedEstimate}"><code>Distributions.estimate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Distributions.estimate(r::ComposedEstimate)</code></pre><p>Retrieves the final estimate: after the TMLE step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimates.jl#L124-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributions.estimate-Tuple{Union{TMLE.OSEstimate, TMLE.TMLEstimate}}" href="#Distributions.estimate-Tuple{Union{TMLE.OSEstimate, TMLE.TMLEstimate}}"><code>Distributions.estimate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Distributions.estimate(r::EICEstimate)</code></pre><p>Retrieves the final estimate: after the TMLE step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimates.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.var-Tuple{TMLE.ComposedEstimate}" href="#Statistics.var-Tuple{TMLE.ComposedEstimate}"><code>Statistics.var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">var(r::ComposedEstimate)</code></pre><p>Computes the estimated variance associated with the estimate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimates.jl#L133-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.var-Tuple{Union{TMLE.OSEstimate, TMLE.TMLEstimate}}" href="#Statistics.var-Tuple{Union{TMLE.OSEstimate, TMLE.TMLEstimate}}"><code>Statistics.var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">var(r::EICEstimate)</code></pre><p>Computes the estimated variance associated with the estimate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimates.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.StaticSCM-Tuple{Any, Any, Any}" href="#TMLE.StaticSCM-Tuple{Any, Any, Any}"><code>TMLE.StaticSCM</code></a> — <span class="docstring-category">Method</span></header><section><div><p>A plate Structural Causal Model where:</p><ul><li>For all outcomes: oᵢ = fᵢ(treatments, confounders, outcome<em>extra</em>covariates)</li><li>For all treatments: tⱼ = fⱼ(confounders)</li></ul><p><strong>Example</strong></p><p>StaticSCM([:Y], [:T₁, :T₂], [:W₁, :W₂, :W₃]; outcome<em>extra</em>covariates=[:C])</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/scm.jl#L70-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.brute_force_ordering-Tuple{Any}" href="#TMLE.brute_force_ordering-Tuple{Any}"><code>TMLE.brute_force_ordering</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">brute_force_ordering(estimands; η_counts = nuisance_function_counts(estimands))</code></pre><p>Finds an optimal ordering of the estimands to minimize maximum cache size.  The approach is a brute force one, all permutations are generated and evaluated,  if a minimum is found fast it is immediatly returned. The theoretical complexity is in O(N!). However due to the stop fast approach and  the shuffling, this is actually expected to be much smaller than that.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimand_ordering.jl#L83-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.compose-Tuple{Any, Vararg{Any}}" href="#TMLE.compose-Tuple{Any, Vararg{Any}}"><code>TMLE.compose</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compose(f, estimation_results::Vararg{EICEstimate, N}) where N</code></pre><p>Provides an estimator of f(estimation_results...).</p><p><strong>Mathematical details</strong></p><p>The following is a summary from <code>Asymptotic Statistics</code>, A. W. van der Vaart.</p><p>Consider k TMLEs computed from a dataset of size n and embodied by Tₙ = (T₁,ₙ, ..., Tₖ,ₙ).  Since each of them is asymptotically normal, the multivariate CLT provides the joint  distribution:</p><pre><code class="nohighlight hljs">√n(Tₙ - Ψ₀) ↝ N(0, Σ),</code></pre><p>where Σ is the covariance matrix of the TMLEs influence curves.</p><p>Let f:ℜᵏ→ℜᵐ, be a differentiable map at Ψ₀. Then, the delta method provides the limiting distribution of √n(f(Tₙ) - f(Ψ₀)). Because Tₙ is normal, the result is:</p><pre><code class="nohighlight hljs">√n(f(Tₙ) - f(Ψ₀)) ↝ N(0, ∇f(Ψ₀) ̇Σ ̇(∇f(Ψ₀))ᵀ),</code></pre><p>where ∇f(Ψ₀):ℜᵏ→ℜᵐ is a linear map such that by abusing notations and identifying the  function with the multiplication matrix: ∇f(Ψ₀):h ↦ ∇f(Ψ₀) ̇h. And the matrix ∇f(Ψ₀) is  the jacobian of f at Ψ₀.</p><p>Hence, the only thing we need to do is:</p><ul><li>Compute the covariance matrix Σ</li><li>Compute the jacobian ∇f, which can be done using Julia&#39;s automatic differentiation facilities.</li><li>The final estimator is normal with mean f₀=f(Ψ₀) and variance σ₀=∇f(Ψ₀) ̇Σ ̇(∇f(Ψ₀))ᵀ</li></ul><p><strong>Arguments</strong></p><ul><li>f: An array-input differentiable map.</li><li>estimation_results: 1 or more <code>EICEstimate</code> structs.</li></ul><p><strong>Examples</strong></p><p>Assuming <code>res₁</code> and <code>res₂</code> are TMLEs:</p><pre><code class="language-julia hljs">f(x, y) = [x^2 - y, y - 3x]
compose(f, res₁, res₂)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimators.jl#L115-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.factorialATE-Tuple{Any, Any, Any}" href="#TMLE.factorialATE-Tuple{Any, Any, Any}"><code>TMLE.factorialATE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factorialATE(dataset, treatments, outcome; 
    confounders=nothing, 
    outcome_extra_covariates=(),
    positivity_constraint=nothing
)</code></pre><p>Find all unique values for each treatment variable in the dataset and generate all possible ATEs from these values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimands.jl#L333-L341">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.factorialATE-Union{Tuple{names}, Tuple{NamedTuple{names}, Any}} where names" href="#TMLE.factorialATE-Union{Tuple{names}, Tuple{NamedTuple{names}, Any}} where names"><code>TMLE.factorialATE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factorialATE(
    treatments_levels::NamedTuple{names}, outcome; 
    confounders=nothing, 
    outcome_extra_covariates=(),
    freq_table=nothing,
    positivity_constraint=nothing
) where names</code></pre><p>Generate a <code>ComposedEstimand</code> of ATEs from the <code>treatments_levels</code>. The components of this estimand are generated from the treatment variables contrasts. For example, consider two treatment variables T₁ and T₂ each taking three possible values (0, 1, 2).  For each treatment variable, the marginal transitive contrasts are defined by (0 → 1, 1 → 2). Note that (0 → 2) or (1 → 0) need not  be considered because they are linearly dependent on the other contrasts. Then, the cartesian product of treatment contrasts is taken, resulting in a 2 x 2 = 4 dimensional joint estimand:</p><ul><li>(T₁: 0 → 1, T₂: 0 → 1)</li><li>(T₁: 0 → 1, T₂: 1 → 2)</li><li>(T₁: 1 → 2, T₂: 0 → 1)</li><li>(T₁: 1 → 2, T₂: 1 → 2)</li></ul><p><strong>Return</strong></p><p>A <code>ComposedEstimand</code> with causal or statistical components.</p><p><strong>Args</strong></p><ul><li><code>treatments_levels</code>: A NamedTuple providing the unique levels each treatment variable can take.</li><li><code>outcome</code>: The outcome variable.</li><li><code>confounders=nothing</code>: The generated components will inherit these confounding variables. </li></ul><p>If <code>nothing</code>, causal estimands are generated.</p><ul><li><code>outcome_extra_covariates=()</code>: The generated components will inherit these <code>outcome_extra_covariates</code>.</li><li><code>positivity_constraint=nothing</code>: Only components that pass the positivity constraint are added to the <code>ComposedEstimand</code></li></ul><p><strong>Example:</strong></p><p>To generate a causal composed estimand with 3 components:</p><pre><code class="language- hljs">factorialATE((T₁ = (0, 1), T₂=(0, 1, 2)), :Y₁)</code></pre><p>To generate a statistical composed estimand with 9 components:</p><pre><code class="language- hljs">factorialATE((T₁ = (0, 1, 2), T₂=(0, 1, 2)), :Y₁, confounders=[:W₁, :W₂])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimands.jl#L290-L314">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.factorialIATE-Tuple{Any, Any, Any}" href="#TMLE.factorialIATE-Tuple{Any, Any, Any}"><code>TMLE.factorialIATE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factorialIATE(dataset, treatments, outcome; 
    confounders=nothing, 
    outcome_extra_covariates=(),
    positivity_constraint=nothing
)</code></pre><p>Finds treatments levels from the dataset and generates a <code>ComposedEstimand</code> of IATE from them  (see <a href="#TMLE.factorialIATE-Tuple{Any, Any, Any}"><code>factorialIATE(treatments_levels, outcome; confounders=nothing, outcome_extra_covariates=())</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimands.jl#L402-L411">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.factorialIATE-Union{Tuple{names}, Tuple{NamedTuple{names}, Any}} where names" href="#TMLE.factorialIATE-Union{Tuple{names}, Tuple{NamedTuple{names}, Any}} where names"><code>TMLE.factorialIATE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factorialIATE(
    treatments_levels::NamedTuple{names}, outcome; 
    confounders=nothing, 
    outcome_extra_covariates=(),
    freq_table=nothing,
    positivity_constraint=nothing
) where names</code></pre><p>Generates a <code>ComposedEstimand</code> of IATE from <code>treatments_levels</code>. The components of this estimand are generated from the treatment variables contrasts. For example, consider two treatment variables T₁ and T₂ each taking three possible values (0, 1, 2).  For each treatment variable, the marginal transitive contrasts are defined by (0 → 1, 1 → 2). Note that (0 → 2) or (1 → 0) need not  be considered because they are linearly dependent on the other contrasts. Then, the cartesian product of treatment contrasts is taken, resulting in a 2 x 2 = 4 dimensional joint estimand:</p><ul><li>(T₁: 0 → 1, T₂: 0 → 1)</li><li>(T₁: 0 → 1, T₂: 1 → 2)</li><li>(T₁: 1 → 2, T₂: 0 → 1)</li><li>(T₁: 1 → 2, T₂: 1 → 2)</li></ul><p><strong>Return</strong></p><p>A <code>ComposedEstimand</code> with causal or statistical components.</p><p><strong>Args</strong></p><ul><li><code>treatments_levels</code>: A NamedTuple providing the unique levels each treatment variable can take.</li><li><code>outcome</code>: The outcome variable.</li><li><code>confounders=nothing</code>: The generated components will inherit these confounding variables. </li></ul><p>If <code>nothing</code>, causal estimands are generated.</p><ul><li><code>outcome_extra_covariates=()</code>: The generated components will inherit these <code>outcome_extra_covariates</code>.</li><li><code>positivity_constraint=nothing</code>: Only components that pass the positivity constraint are added to the <code>ComposedEstimand</code></li></ul><p><strong>Example:</strong></p><p>To generate a causal composed estimand with 3 components:</p><pre><code class="language- hljs">factorialIATE((T₁ = (0, 1), T₂=(0, 1, 2)), :Y₁)</code></pre><p>To generate a statistical composed estimand with 9 components:</p><pre><code class="language- hljs">factorialIATE((T₁ = (0, 1, 2), T₂=(0, 1, 2)), :Y₁, confounders=[:W₁, :W₂])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/counterfactual_mean_based/estimands.jl#L359-L383">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.groups_ordering-Tuple{Any}" href="#TMLE.groups_ordering-Tuple{Any}"><code>TMLE.groups_ordering</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">groups_ordering(estimands)</code></pre><p>This will order estimands based on: propensity score first, outcome mean second. This heuristic should  work reasonably well in practice. It could be optimized further by:</p><ul><li>Organising the propensity score groups that share similar components to be close together. </li><li>Brute forcing the ordering of these groups to find an optimal one.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/c1e044c337df3b3757b5f1c44b168c0063ef5a03/src/estimand_ordering.jl#L144-L151">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../resources/">« Resources</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Thursday 25 January 2024 17:50">Thursday 25 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
