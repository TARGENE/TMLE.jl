<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · TMLE.jl</title><meta name="title" content="API Reference · TMLE.jl"/><meta property="og:title" content="API Reference · TMLE.jl"/><meta property="twitter:title" content="API Reference · TMLE.jl"/><meta name="description" content="Documentation for TMLE.jl."/><meta property="og:description" content="Documentation for TMLE.jl."/><meta property="twitter:description" content="Documentation for TMLE.jl."/><meta property="og:url" content="https://TARGENE.github.io/TMLE.jl/api/"/><meta property="twitter:url" content="https://TARGENE.github.io/TMLE.jl/api/"/><link rel="canonical" href="https://TARGENE.github.io/TMLE.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/logo.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="TMLE.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">TMLE.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../walk_through/">Walk Through</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../user_guide/scm/">Structural Causal Models</a></li><li><a class="tocitem" href="../user_guide/estimands/">Estimands</a></li><li><a class="tocitem" href="../user_guide/estimation/">Estimators</a></li><li><a class="tocitem" href="../user_guide/resampling/">Resampling Strategies</a></li><li><a class="tocitem" href="../user_guide/acceleration/">Accelerations</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/super_learning/">Becoming a Super Learner</a></li><li><a class="tocitem" href="../examples/double_robustness/">Model Misspecification &amp; Double Robustness</a></li><li><a class="tocitem" href="../examples/interactions_correlated/">Interaction Estimation</a></li></ul></li><li><a class="tocitem" href="../integrations/">Integrations</a></li><li><a class="tocitem" href="../estimators_cheatsheet/">Estimators&#39; Cheat Sheet</a></li><li><a class="tocitem" href="../resources/">Learning Resources</a></li><li class="is-active"><a class="tocitem" href>API Reference</a></li><li><a class="tocitem" href="../contributing/">Contributing &amp; Reporting</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TARGENE/TMLE.jl/blob/main/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.AdaptiveCorrelationOrdering" href="#TMLE.AdaptiveCorrelationOrdering"><code>TMLE.AdaptiveCorrelationOrdering</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AdaptiveCorrelationOrdering()</code></pre><p>This strategy adaptively selects the confounding variable that is the most correlated with the last residuals of the outcome mean estimator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/counterfactual_mean_based/adaptive_correlation_strategy.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.CausalStratifiedCV-Tuple{}" href="#TMLE.CausalStratifiedCV-Tuple{}"><code>TMLE.CausalStratifiedCV</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CausalStratifiedCV(;resampling=StratifiedCV())</code></pre><p>Applies a stratified cross-validation strategy based on both treatments and outcome (if it is Finite) variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/resampling.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.Configuration-Tuple{}" href="#TMLE.Configuration-Tuple{}"><code>TMLE.Configuration</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Configuration(;estimands, scm=nothing, adjustment=nothing) = Configuration(estimands, scm, adjustment)</code></pre><p>A Configuration is a set of estimands to be estimated. If the set of estimands contains causal (identifiable) estimands,  these will be identified using the provided <code>scm</code> and <code>adjustment</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/configuration.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.Ose-Tuple{}" href="#TMLE.Ose-Tuple{}"><code>TMLE.Ose</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Ose(;models=default_models(), resampling=nothing, ps_lowerbound=1e-8, machine_cache=false)</code></pre><p>Defines a One Step Estimator using the specified models for estimation of the nuisance parameters. The estimator is a  function that can be applied to estimate estimands for a dataset.</p><p><strong>Constructor Arguments</strong></p><ul><li>models: A Dict(variable =&gt; model, ...) where the <code>variables</code> are the outcome variables modeled by the <code>models</code>.</li><li>resampling: Outer resampling strategy. Setting it to <code>nothing</code> (default) falls back to vanilla estimation while </li></ul><p>any valid <code>MLJ.ResamplingStrategy</code> will result in CV-OSE.</p><ul><li>ps_lowerbound: Lowerbound for the propensity score to avoid division by 0. The special value <code>nothing</code> will </li></ul><p>result in a data adaptive definition as described in <a href="https://pubmed.ncbi.nlm.nih.gov/35512316/">here</a>.</p><ul><li>machine_cache: Whether MLJ.machine created during estimation should cache data.</li></ul><p><strong>Run Argument</strong></p><ul><li>Ψ: parameter of interest</li><li>dataset: A DataFrame </li><li>cache (default: Dict()): A dictionary to store nuisance function fits.</li><li>verbosity (default: 1): Verbosity level.</li><li>acceleration (default: <code>CPU1()</code>): acceleration strategy for parallelised estimation of nuisance functions.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using MLJLinearModels
models = Dict(:Y =&gt; LinearRegressor(), :T =&gt; LogisticClassifier())
ose = Ose()
Ψ̂ₙ, cache = ose(Ψ, dataset)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/counterfactual_mean_based/estimators.jl#L164-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.SCM" href="#TMLE.SCM"><code>TMLE.SCM</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A SCM is simply a wrapper around a MetaGraph over a Directed Acyclic Graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/scm.jl#L5-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.Tmle-Tuple{}" href="#TMLE.Tmle-Tuple{}"><code>TMLE.Tmle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Tmle(;models=default_models(), resampling=nothing, ps_lowerbound=1e-8, weighted=false, tol=nothing, machine_cache=false)</code></pre><p>Defines a TMLE estimator using the specified models for estimation of the nuisance parameters. The estimator is a  function that can be applied to estimate estimands for a dataset.</p><p><strong>Constructor Arguments</strong></p><ul><li>models (default: <code>default_models()</code>): A Dict(variable =&gt; model, ...) where the <code>variables</code> are the outcome variables modeled by the <code>models</code>.</li><li>collaborative_strategy (default: nothing): A collaborative strategy to use for the estimation. Then the resampling strategy is used  to evaluate the candidates.</li><li>resampling (default: <code>default_resampling(collaborative_strategy)</code>): Outer resampling strategy. Setting it to <code>nothing</code> (default) falls back to vanilla TMLE while </li></ul><p>any valid <code>MLJ.ResamplingStrategy</code> will result in CV-TMLE.</p><ul><li>ps_lowerbound (default: 1e-8): Lowerbound for the propensity score to avoid division by 0. The special value <code>nothing</code> will </li></ul><p>result in a data adaptive definition as described in <a href="https://pubmed.ncbi.nlm.nih.gov/35512316/">here</a>.</p><ul><li>weighted (default: false): Whether the fluctuation model is a classig GLM or a weighted version. The weighted fluctuation has </li></ul><p>been show to be more robust to positivity violation in practice.</p><ul><li>tol (default: nothing): Convergence threshold for the TMLE algorithm iterations. If nothing (default), 1/(sample size) will be used. See also <code>max_iter</code>.</li><li>max_iter (default: 1): Maximum number of iterations for the TMLE algorithm.</li><li>machine_cache (default: false): Whether MLJ.machine created during estimation should cache data.</li></ul><p><strong>Run Argument</strong></p><ul><li>Ψ: parameter of interest</li><li>dataset: A DataFrame </li><li>cache (default: Dict()): A dictionary to store nuisance function fits.</li><li>verbosity (default: 1): Verbosity level.</li><li>acceleration (default: <code>CPU1()</code>): acceleration strategy for parallelised estimation of nuisance functions.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using MLJLinearModels
tmle = Tmle()
Ψ̂ₙ, cache = tmle(Ψ, dataset)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/counterfactual_mean_based/estimators.jl#L40-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributions.estimate-Tuple{TMLE.JointEstimate}" href="#Distributions.estimate-Tuple{TMLE.JointEstimate}"><code>Distributions.estimate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Distributions.estimate(r::JointEstimate)</code></pre><p>Retrieves the final estimate: after the TMLE step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/estimates.jl#L179-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributions.estimate-Tuple{Union{TMLE.OSEstimate, TMLE.TMLEstimate}}" href="#Distributions.estimate-Tuple{Union{TMLE.OSEstimate, TMLE.TMLEstimate}}"><code>Distributions.estimate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Distributions.estimate(r::EICEstimate)</code></pre><p>Retrieves the final estimate: after the TMLE step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/counterfactual_mean_based/estimates.jl#L77-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.StaticSCM-Tuple{Any, Any, Any}" href="#TMLE.StaticSCM-Tuple{Any, Any, Any}"><code>TMLE.StaticSCM</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A plate Structural Causal Model where:</p><ul><li>For all outcomes: oᵢ = fᵢ(treatments, confounders, outcome<em>extra</em>covariates)</li><li>For all treatments: tⱼ = fⱼ(confounders)</li></ul><p><strong>Example</strong></p><p>StaticSCM([:Y], [:T₁, :T₂], [:W₁, :W₂, :W₃]; outcome<em>extra</em>covariates=[:C])</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/scm.jl#L70-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.brute_force_ordering-Tuple{Any}" href="#TMLE.brute_force_ordering-Tuple{Any}"><code>TMLE.brute_force_ordering</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">brute_force_ordering(estimands; η_counts = nuisance_function_counts(estimands))</code></pre><p>Finds an optimal ordering of the estimands to minimize maximum cache size.  The approach is a brute force one, all permutations are generated and evaluated,  if a minimum is found fast it is immediatly returned. The theoretical complexity is in O(N!). However due to the stop fast approach and  the shuffling, this is actually expected to be much smaller than that.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/estimand_ordering.jl#L83-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.compose-Tuple{Any, TMLE.JointEstimate}" href="#TMLE.compose-Tuple{Any, TMLE.JointEstimate}"><code>TMLE.compose</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compose(f, estimation_results::Vararg{EICEstimate, N}) where N</code></pre><p>Provides an estimator of f(estimation_results...).</p><p><strong>Mathematical details</strong></p><p>The following is a summary from <code>Asymptotic Statistics</code>, A. W. van der Vaart.</p><p>Consider k TMLEs computed from a dataset of size n and embodied by Tₙ = (T₁,ₙ, ..., Tₖ,ₙ).  Since each of them is asymptotically normal, the multivariate CLT provides the joint  distribution:</p><pre><code class="nohighlight hljs">√n(Tₙ - Ψ₀) ↝ N(0, Σ),</code></pre><p>where Σ is the covariance matrix of the TMLEs influence curves.</p><p>Let f:ℜᵏ→ℜᵐ, be a differentiable map at Ψ₀. Then, the delta method provides the limiting distribution of √n(f(Tₙ) - f(Ψ₀)). Because Tₙ is normal, the result is:</p><pre><code class="nohighlight hljs">√n(f(Tₙ) - f(Ψ₀)) ↝ N(0, ∇f(Ψ₀) ̇Σ ̇(∇f(Ψ₀))ᵀ),</code></pre><p>where ∇f(Ψ₀):ℜᵏ→ℜᵐ is a linear map such that by abusing notations and identifying the  function with the multiplication matrix: ∇f(Ψ₀):h ↦ ∇f(Ψ₀) ̇h. And the matrix ∇f(Ψ₀) is  the jacobian of f at Ψ₀.</p><p>Hence, the only thing we need to do is:</p><ul><li>Compute the covariance matrix Σ</li><li>Compute the jacobian ∇f, which can be done using Julia&#39;s automatic differentiation facilities.</li><li>The final estimator is normal with mean f₀=f(Ψ₀) and variance σ₀=∇f(Ψ₀) ̇Σ ̇(∇f(Ψ₀))ᵀ</li></ul><p><strong>Arguments</strong></p><ul><li>f: An array-input differentiable map.</li><li>estimation_results: 1 or more <code>EICEstimate</code> structs.</li></ul><p><strong>Examples</strong></p><p>Assuming <code>res₁</code> and <code>res₂</code> are TMLEs:</p><pre><code class="language-julia hljs">f(x, y) = [x^2 - y, y - 3x]
compose(f, res₁, res₂)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/estimators.jl#L259-L303">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.default_models-Tuple{}" href="#TMLE.default_models-Tuple{}"><code>TMLE.default_models</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_models(;Q_binary=LinearBinaryClassifier(), Q_continuous=LinearRegressor(), G=LinearBinaryClassifier()) = (</code></pre><p>Create a Dictionary containing default models to be used by downstream estimators.  Each provided model is prepended (in a <code>MLJ.Pipeline</code>) with an <code>MLJ.ContinuousEncoder</code>.</p><p>By default:     - Q<em>binary is a LinearBinaryClassifier     - Q</em>continuous is a LinearRegressor     - G is a LinearBinaryClassifier</p><p><strong>Example</strong></p><p>The following changes the default <code>Q_binary</code> to a <code>LogisticClassifier</code> and provides a <code>RidgeRegressor</code> for <code>special_y</code>. </p><pre><code class="language-julia hljs">using MLJLinearModels
models = default_models(
    Q_binary  = LogisticClassifier(),
    special_y = RidgeRegressor()
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/utils.jl#L97-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.epsilons-Tuple{Any}" href="#TMLE.epsilons-Tuple{Any}"><code>TMLE.epsilons</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">epsilons(cache)</code></pre><p>Retrieves the fluctuations&#39; epsilons corresponding to each targeting step from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/cache.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.estimates-Tuple{Any}" href="#TMLE.estimates-Tuple{Any}"><code>TMLE.estimates</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">estimates(cache)</code></pre><p>Retrieves the estimates corresponding to each targeting step from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/cache.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.factorialEstimand-Tuple{Union{typeof(AIE), typeof(ATE), typeof(CM)}, Any, Any}" href="#TMLE.factorialEstimand-Tuple{Union{typeof(AIE), typeof(ATE), typeof(CM)}, Any, Any}"><code>TMLE.factorialEstimand</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">factorialEstimand(
    constructor::Union{typeof(CM), typeof(ATE), typeof(AIE)},
    treatments, outcome; 
    confounders=nothing,
    dataset=nothing, 
    outcome_extra_covariates=(),
    positivity_constraint=nothing,
    freq_table=nothing,
    verbosity=1
)</code></pre><p>Generates a factorial <code>JointEstimand</code> with components of type <code>constructor</code> (CM, ATE, AIE). </p><p>For the ATE and the AIE, the generated components are restricted to the Cartesian Product of single treatment levels transitions. For example, consider two treatment variables T₁ and T₂ each taking three possible values (0, 1, 2).  For each treatment variable, the single treatment levels transitions are defined by (0 → 1, 1 → 2).  Then, the Cartesian Product of these transitions is taken, resulting in a 2 x 2 = 4 dimensional joint estimand:</p><ul><li>(T₁: 0 → 1, T₂: 0 → 1)</li><li>(T₁: 0 → 1, T₂: 1 → 2)</li><li>(T₁: 1 → 2, T₂: 0 → 1)</li><li>(T₁: 1 → 2, T₂: 1 → 2)</li></ul><p><strong>Return</strong></p><p>A <code>JointEstimand</code> with causal or statistical components.</p><p><strong>Args</strong></p><ul><li><code>constructor</code>: CM, ATE or AIE.</li><li><code>treatments</code>: An AbstractDictionary/NamedTuple of treatment levels (e.g. <code>(T=(0, 1, 2),)</code>) or a treatment iterator, then a dataset must be provided to infer the levels from it.</li><li><code>outcome</code>: The outcome variable.</li><li><code>confounders=nothing</code>: The generated components will inherit these confounding variables. If <code>nothing</code>, causal estimands are generated.</li><li><code>outcome_extra_covariates=()</code>: The generated components will inherit these <code>outcome_extra_covariates</code>.</li><li><code>dataset</code>: An optional dataset to enforce a positivity constraint and infer treatment levels.</li><li><code>positivity_constraint=nothing</code>: Only components that pass the positivity constraint are added to the <code>JointEstimand</code>. A <code>dataset</code> must then be provided.</li><li><code>freq_table</code>: This is only to be used by <code>factorialEstimands</code> to avoid unecessary computations.</li><li><code>verbosity=1</code>: Verbosity level.</li></ul><p><strong>Examples:</strong></p><ul><li>An Average Treatment Effect with causal components:</li></ul><pre><code class="language- hljs">factorialEstimand(ATE, (T₁ = (0, 1), T₂=(0, 1, 2)), :Y₁)</code></pre><ul><li>An Average Interaction Effect with statistical components:</li></ul><pre><code class="language- hljs">factorial(AIE, (T₁ = (0, 1, 2), T₂=(0, 1, 2)), :Y₁, confounders=[:W₁, :W₂])</code></pre><ul><li>With a dataset, the treatment levels can be infered and a positivity constraint enforced:</li></ul><p>Interactions:</p><pre><code class="language- hljs">factorialEstimand(ATE, [:T₁, :T₂], :Y₁, 
    confounders=[:W₁, :W₂], 
    dataset=dataset, 
    positivity_constraint=0.1
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/counterfactual_mean_based/estimands.jl#L313-L378">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.factorialEstimands-Tuple{Union{typeof(AIE), typeof(ATE), typeof(CM)}, Any, Any}" href="#TMLE.factorialEstimands-Tuple{Union{typeof(AIE), typeof(ATE), typeof(CM)}, Any, Any}"><code>TMLE.factorialEstimands</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>factorialEstimands(     constructor::Union{typeof(ATE), typeof(AIE)},     dataset, treatments, outcomes;      confounders=nothing,      outcome<em>extra</em>covariates=(),     positivity_constraint=nothing,     verbosity=1     )</p><p>Generates a <code>JointEstimand</code> for each outcome in <code>outcomes</code>. See <code>factorialEstimand</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/counterfactual_mean_based/estimands.jl#L402-L413">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.gradients-Tuple{Any}" href="#TMLE.gradients-Tuple{Any}"><code>TMLE.gradients</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gradients(cache)</code></pre><p>Retrieves the gradients corresponding to each targeting step from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/cache.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.groups_ordering-Tuple{Any}" href="#TMLE.groups_ordering-Tuple{Any}"><code>TMLE.groups_ordering</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">groups_ordering(estimands)</code></pre><p>This will order estimands based on: propensity score first, outcome mean second. This heuristic should  work reasonably well in practice. It could be optimized further by:</p><ul><li>Organising the propensity score groups that share similar components to be close together. </li><li>Brute forcing the ordering of these groups to find an optimal one.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/estimand_ordering.jl#L144-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.significance_test" href="#TMLE.significance_test"><code>TMLE.significance_test</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">significance_test(estimate::EICEstimate, Ψ₀=0)</code></pre><p>Performs a TTest</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/testing.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TMLE.significance_test" href="#TMLE.significance_test"><code>TMLE.significance_test</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">significance_test(estimate::JointEstimate, Ψ₀=zeros(size(estimate.estimate, 1)))</code></pre><p>Performs a TTest if the estimate is one dimensional and a HotellingT2Test otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TARGENE/TMLE.jl/blob/92cc83e9838b98925a4fab1b96a6858a227ce325/src/testing.jl#L27-L31">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../resources/">« Learning Resources</a><a class="docs-footer-nextpage" href="../contributing/">Contributing &amp; Reporting »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Wednesday 28 May 2025 17:17">Wednesday 28 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
